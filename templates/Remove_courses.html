{% extends "base.html" %}

{% load static %}

{% block body %}

<!-- inner page banner -->
<div id="inner_banner" class="section inner_banner_section">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="full">
          <div class="title-holder">
            <div class="title-holder-cell text-left">
              <h1 class="page-title">Delete Courses</h1>
              <ol class="breadcrumb">
                <li><a href="/View_courses">View Course</a></li>
                <li class="active">Remove Course</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end inner page banner -->


<!-- Add this section to your existing HTML -->
<div class="section padding_layout_1">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="full">
          <div class="main_heading text_align_left">
            <h2>Delete Course</h2>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <form id="deleteCourseForm">
          <div class="mb-3">
            <label for="deleteCourseId" class="form-label">Enter Course ID to Delete:</label>
            <input type="text" class="form-control" id="deleteCourseId" name="deleteCourseId" required>
          </div>
          <div class="mb-3">
            <button type="button" class="btn btn-danger" onclick="deleteCourse()">Delete Course</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  // Function to delete a course by Course ID
  function deleteCourse() {
    var courseIdToDelete = document.getElementById('deleteCourseId').value;

    // Validate if the Course ID exists
    var courseIndex = findCourseIndex(courseIdToDelete);
    if (courseIndex === -1) {
      alert('Course with the provided ID does not exist.');
      return;
    }

    // Remove the course from the addedCourses array
    addedCourses.splice(courseIndex, 1);

    // Remove the course element from the displayed section
    var displayedCoursesSection = document.getElementById('displayedCourses');
    displayedCoursesSection.innerHTML = ''; // Clear the displayed section

    // Display all remaining courses
    displayAllCourses();

    // Clear the form field
    document.getElementById('deleteCourseId').value = '';

    alert('Course deleted successfully.');
  }

  // Function to find the index of a course in the addedCourses array by Course ID
  function findCourseIndex(courseId) {
    for (var i = 0; i < addedCourses.length; i++) {
      if (addedCourses[i].id === courseId) {
        return i;
      }
    }
    return -1; // Course not found
  }
</script>




{% endblock body %}