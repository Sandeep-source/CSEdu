{% extends "base.html" %}

{% load static %}

{% block body %}

<!-- inner page banner -->
<div id="inner_banner" class="section inner_banner_section">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="full">
          <div class="title-holder">
            <div class="title-holder-cell text-left">
              <h1 class="page-title">Available Courses</h1>
              <ol class="breadcrumb">
                <li><a href="View_courses.html">View Courses</a></li>
                <li class="active">Total Courses List</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end inner page banner -->

<!-- Add this section to your existing HTML -->
<div class="section padding_layout_1 service_list">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="full">
          <div class="main_heading text_align_left">
            <h2>All Courses</h2>
          </div>
        </div>
      </div>
    </div>
    <div class="row" id="displayedCourses">
      <!-- Displayed Courses Section -->
      <!-- Courses added using the addCourse function will appear here -->
    </div>
  </div>
</div>

<script>
  // Function to display all added courses
  function displayAllCourses() {
    // Get the displayed courses section
    var displayedCoursesSection = document.getElementById('displayedCourses');

    // Loop through the added courses and display them
    for (var i = 0; i < addedCourses.length; i++) {
      var course = addedCourses[i];

      var newCourseElement = document.createElement('div');
      newCourseElement.className = 'col-md-4 service_blog margin_bottom_50';
      newCourseElement.innerHTML = `
        <div class="full">
          <div class="service_img">
            <img class="img-responsive" src="${course.imageUrl}" alt="${course.name}" />
          </div>
          <div class="service_cont">
            <h3 class="service_head">${course.name}</h3>
            <p>Course ID: ${course.id}</p>
            <p>Course duration of ${course.duration}</p>
            <div class="bt_cont">
              <a class="btn sqaure_bt" href="#" onclick="alert('Visit at Institute')">Enroll Course</a>
            </div>
          </div>
        </div>
      `;

      displayedCoursesSection.appendChild(newCourseElement);
    }
  }

  // This array will store the added courses
  var addedCourses = [];

  // Modified addCourse function to store courses in the addedCourses array
  function addCourse() {
    var courseId = document.getElementById('courseId').value;
    var courseName = document.getElementById('courseName').value;
    var courseDuration = document.getElementById('courseDuration').value;
    var courseImageInput = document.getElementById('courseImage');

    if (!courseId || !courseName || !courseDuration || !courseImageInput.files[0]) {
      alert('Please fill in all fields');
      return;
    }

    var course = {
      id: courseId,
      name: courseName,
      duration: courseDuration,
      imageUrl: URL.createObjectURL(courseImageInput.files[0]),
    };

    addedCourses.push(course);

    var newCourseElement = document.createElement('div');
    newCourseElement.className = 'col-md-4 service_blog margin_bottom_50';
    newCourseElement.innerHTML = `
      <div class="full">
        <div class="service_img">
          <img class="img-responsive" src="${course.imageUrl}" alt="${course.name}" />
        </div>
        <div class="service_cont">
          <h3 class="service_head">${course.name}</h3>
          <p>Course ID: ${course.id}</p>
          <p>Course duration of ${course.duration}</p>
          <div class="bt_cont">
            <a class="btn sqaure_bt" href="#" onclick="alert('Visit at Institute')">Enroll Course</a>
          </div>
        </div>
      </div>
    `;

    var displayedCoursesSection = document.getElementById('displayedCourses');
    displayedCoursesSection.appendChild(newCourseElement);

    document.getElementById('courseId').value = '';
    document.getElementById('courseName').value = '';
    document.getElementById('courseDuration').value = '';
    document.getElementById('courseImage').value = '';
  }
</script>




{% endblock body %}